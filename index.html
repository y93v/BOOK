<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pour Toi, Meli</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Quicksand:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            /* New, lightweight static background */
            background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
            overflow: hidden;
            color: #e0e0e0;
            height: 100vh;
        }

        /* Lightweight Starfield */
        @keyframes subtle-flicker {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
        #star-field {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
        }
        .stars {
            width: 1px; height: 1px;
            background: transparent;
            box-shadow: 
                -37vw 18vh #FFF, 8vw 68vh #FFF, -45vw 10vh #FFF, 2vw 74vh #FFF, 2vw 82vh #FFF, 
                34vw 6vh #FFF, 33vw 87vh #FFF, 49vw 10vh #FFF, 3vw 86vh #FFF, -3vw 77vh #FFF,
                -21vw 23vh #FFF, -12vw 63vh #FFF, -24vw 80vh #FFF, 4vw 94vh #FFF, 15vw 93vh #FFF,
                -40vw 88vh #FFF, 23vw 5vh #FFF, 10vw 10vh #FFF, -15vw 55vh #FFF, 45vw 22vh #FFF,
                -27vw 48vh #FFF, 18vw 34vh #FFF, -35vw 60vh #FFF, 42vw 12vh #FFF, -48vw 30vh #FFF;
            animation: subtle-flicker 4s infinite alternate;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(12, 10, 24, 0.7);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            z-index: 40; display: flex; align-items: center; justify-content: center;
            opacity: 0; transition: opacity 0.4s ease-in-out; pointer-events: none;
        }
        .modal-overlay.visible { opacity: 1; pointer-events: auto; }
        .modal-content {
            background: rgba(25, 23, 46, 0.9);
            padding: 2rem 1.5rem;
            border-radius: 1.5rem;
            border: 1px solid rgba(236, 72, 153, 0.4);
            width: 90%; max-width: 550px; position: relative;
            box-shadow: 0 0 50px rgba(236, 72, 153, 0.5), 0 0 20px rgba(236, 72, 153, 0.3);
            transform: translateY(20px) scale(0.95); transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .modal-overlay.visible .modal-content { transform: translateY(0) scale(1); }
        .modal-close-btn {
            position: absolute; top: 15px; right: 15px;
            cursor: pointer; transition: all 0.3s ease; z-index: 10;
            font-size: 1.5rem; color: #ec4899;
        }
        .modal-close-btn:hover { transform: scale(1.2) rotate(90deg); color: #fff;}
        
        .font-dancing { font-family: 'Dancing Script', cursive; }
        .text-glow {
             color: #f9a8d4;
             text-shadow: 0 0 7px #f9a8d4, 0 0 12px #ec4899, 0 0 25px #ec4899;
        }

        /* Main Screen Elements */
        .main-title {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(3rem, 10vw, 6rem);
        }
        .subtitle {
            font-size: clamp(1rem, 4vw, 1.5rem);
            color: #c4b5fd; /* Lavender color */
        }
        .main-heart {
            font-size: clamp(2rem, 8vw, 4rem);
            color: #ec4899;
            text-shadow: 0 0 10px #ec4899, 0 0 20px #ec4899, 0 0 40px #ec4899, 0 0 80px #ec4899;
            animation: heart-pulse 2s infinite ease-in-out;
        }
        
        @keyframes heart-pulse {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 15px #ec4899); }
            50% { transform: scale(1.1); filter: drop-shadow(0 0 30px #ec4899); }
        }

        .action-button {
            padding: 1rem 2rem;
            border: 2px solid #ec4899;
            border-radius: 12px;
            background: transparent;
            color: #ec4899;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(236, 72, 153, 0.5), inset 0 0 10px rgba(236, 72, 153, 0.3);
            font-family: 'Quicksand', sans-serif;
            font-weight: 500;
        }
        .action-button:hover {
            background: #ec4899;
            color: #fff;
            box-shadow: 0 0 25px #ec4899, 0 0 50px #ec4899;
            transform: scale(1.05);
        }

        /* Message List inside Modal */
        .message-title-btn {
            display: block; width: 100%; text-align: left;
            padding: 0.8rem 1.2rem;
            margin-bottom: 0.5rem;
            border-radius: 8px;
            transition: all 0.3s;
            color: #f9a8d4;
            border: 1px solid rgba(236, 72, 153, 0.2);
            background-color: rgba(236, 72, 153, 0.1);
            font-size: 1.1rem;
        }
        .message-title-btn:hover {
            background-color: rgba(236, 72, 153, 0.25);
            color: #fff;
            border-color: rgba(236, 72, 153, 0.5);
            transform: translateX(5px);
        }

        /* Custom Scrollbar */
        #modal-body::-webkit-scrollbar { width: 8px; }
        #modal-body::-webkit-scrollbar-track { background: #19172e; border-radius: 10px; }
        #modal-body::-webkit-scrollbar-thumb { background-color: #ec4899; border-radius: 10px; border: 2px solid #19172e; }
    </style>
</head>
<body>
    <div id="star-field">
        <div class="stars"></div>
    </div>

    <div id="initial-modal" class="modal-overlay">
        <div class="modal-content">
            <i id="initial-modal-close" class="fas fa-times modal-close-btn"></i>
            <div class="text-center">
                 <h2 class="font-dancing text-glow text-3xl mb-4">Bienvenue, mon √©toile ‚ú®</h2>
                 <p class="text-lg leading-relaxed">
                    J'ai cr√©√© ce petit univers juste pour toi, un endroit o√π tu pourras toujours trouver un morceau de mon c≈ìur. üíñ
                    <br/><br/>
                    Ceci n'est qu'un simple √©cho de l'amour infini que je te porte. Chaque mot est une promesse, un rappel que tu es tout pour moi, aujourd'hui et pour l'√©ternit√©. ‚ôæÔ∏è
                 </p>
            </div>
        </div>
    </div>
    
    <div id="messages-modal" class="modal-overlay">
        <div class="modal-content">
             <i id="messages-modal-close" class="fas fa-times modal-close-btn"></i>
             <div id="modal-body" class="max-h-[70vh] overflow-y-auto pr-3">
                <!-- Content will be injected here -->
             </div>
        </div>
    </div>

    <main class="container mx-auto p-4 sm:p-8 flex flex-col items-center justify-center min-h-screen relative z-10 text-center">
        <div class="flex flex-col items-center justify-center gap-2 mb-12">
            <h1 class="main-title text-glow">Notre Ciel √âtoil√©</h1>
            <p class="subtitle text-glow">Pour Toi, Meli üíñ</p>
            <i class="fas fa-heart main-heart mt-4"></i>
        </div>
        
        <button id="open-messages-btn" class="action-button">
            Ouvrir les messages üíå
        </button>
    </main>

    <script>
        const messages = {
            sad: {
                title: "Quand tu te sens triste üòî",
                text: "Meli, je vois dans tes yeux que tu traverses des moments de tristesse, et √ßa me d√©chire le c≈ìur. üíî Je voudrais √™tre l√† pour s√©cher tes larmes, t‚Äôoffrir tout le r√©confort du monde, mais je veux que tu saches que tu n‚Äôas pas √† traverser √ßa seule. Je suis l√†, toujours, pr√™t √† t‚Äô√©couter, √† te comprendre, et surtout √† te montrer combien je tiens √† toi. Ta tristesse me touche, mais elle ne te d√©finit pas. Tu es forte et tu brilleras √† nouveau, je le sais. üôè Et en attendant, je serai l√† pour te porter, pour te rappeler que tu es aim√©e. ‚ù§Ô∏è"
            },
            upset: {
                title: "Quand tu es contrari√©e üòü",
                text: "Meli, quand tu es en col√®re ou contrari√©e, je ressens tout ce poids sur toi, et √ßa me fait mal de te voir ainsi. Mais sache que je suis l√† pour t‚Äô√©couter, pour comprendre ce que tu ressens. Ta col√®re est l√©gitime, et tu as le droit d‚Äô√™tre en col√®re. Mais je veux aussi te dire que je suis pr√™t √† tout pour r√©parer les choses. Si j‚Äôai fait quelque chose pour te d√©ranger, je suis sinc√®rement d√©sol√©. üôè Rien n‚Äôest plus important pour moi que ton bonheur et ta s√©r√©nit√©. Ensemble, on peut surmonter n‚Äôimporte quel obstacle. Tu n‚Äôes pas seule dans ce sentiment, je suis l√†, toujours. ‚ù§Ô∏è"
            },
            happy: {
                title: "Quand tu es heureuse üòä",
                text: "Meli, ta joie est ma lumi√®re, chaque sourire que tu m‚Äôoffres est comme un rayon de soleil qui illumine ma vie. ‚ú® Quand je te vois heureuse, mon c≈ìur se remplit de bonheur. J‚Äôai l‚Äôimpression que tout est possible quand tu es dans cette √©nergie, cette beaut√© rayonnante. Tu rends mon monde tellement meilleur, et je te promets que je ferai tout pour te voir sourire chaque jour. Ta joie est la plus belle chose au monde, et tu m√©rites chaque instant de bonheur. üíñ"
            },
            content: {
                title: "Quand tu te sens sereine üòå",
                text: "Meli, quand tu es paisible et sereine, c‚Äôest l√† que je trouve la vraie beaut√© de notre vie. Ton calme m‚Äôapaise, ton regard tranquille me donne l‚Äôimpression que tout va bien. Dans ces moments-l√†, je me sens complet. ü•∞ Tu es mon havre de paix, mon refuge apr√®s chaque temp√™te. Voir ton c≈ìur en paix, c‚Äôest tout ce que je veux. Je serai l√† pour pr√©server cette tranquillit√©, pour te soutenir √† chaque √©tape de ton chemin. üíñ"
            },
            confused: {
                title: "Quand tu te sens perdue ü§î",
                text: "Meli, je sais que parfois, la confusion envahit ton esprit et que tu ne sais pas quelle direction prendre. Mais tu n‚Äôas pas √† tout comprendre d‚Äôun coup. Je serai l√† pour te guider, pour t‚Äôaccompagner dans ces moments de doute. Je crois en toi, je crois en ta capacit√© √† trouver des r√©ponses. M√™me si tu ne vois pas encore la lumi√®re au bout du tunnel, sache que je suis l√† pour t‚Äôaider √† √©clairer ton chemin. ü§ù Ensemble, on trouvera toujours la voie. ‚ù§Ô∏è"
            },
            grateful: {
                title: "Quand tu es reconnaissante ü•∞",
                text: "Meli, je me sens tellement honor√© de recevoir ton amour, ta gratitude. Chaque mot que tu prononces, chaque geste que tu fais, me rappelle combien je suis chanceux de t‚Äôavoir dans ma vie. üôè Ton amour est ce qui me donne la force de me lever chaque jour. Je suis reconnaissant de chaque moment pass√© √† tes c√¥t√©s, de chaque sourire que tu m‚Äôoffres. Tu es la personne que j‚Äôai toujours cherch√©e, celle qui compl√®te mon √¢me. üíñ"
            },
            overwhelmed: {
                title: "Quand tu es d√©pass√©e üò•",
                text: "Meli, je vois que tout est trop pour toi en ce moment. Tu es fatigu√©e, √©puis√©e par les responsabilit√©s et les attentes. Mais je veux te dire une chose : tu n‚Äôas pas √† tout porter seule. Je serai toujours l√† pour all√©ger ta charge, pour te soutenir quand tu as l‚Äôimpression que tout s‚Äôeffondre. Laisse-moi prendre soin de toi. ü§ó Si tu as besoin de respirer, je suis l√† pour te donner cet espace. Je suis l√† pour toi, √† chaque √©tape, pr√™t √† tout pour te rendre la vie plus facile. ‚ù§Ô∏è"
            },
            inlove: {
                title: "Quand tu es heureuse avec moi ü•∞",
                text: "Meli, chaque jour pass√© avec toi est une b√©n√©diction, mais quand tu es heureuse dans notre relation, mon c≈ìur se gonfle de fiert√©. De savoir que tu es √©panouie, que notre amour te comble, c‚Äôest tout ce dont je r√™vais. ‚ú® Tu es celle avec qui je veux tout partager, avec qui je veux b√¢tir un futur plein de rires, de tendresse et de complicit√©. Chaque moment pass√© avec toi est une promesse de bonheur, et je ferai tout pour que tu sois heureuse √† mes c√¥t√©s. üíñ"
            },
            loved: {
                title: "Quand tu te sens aim√©e ‚ù§Ô∏è",
                text: "Meli, quand tu ressens mon amour, sache que tu ressens l‚Äôessence m√™me de mon c≈ìur. Chaque geste, chaque mot que je t‚Äôadresse, vient du plus profond de mon √¢me. Je te porte en moi, chaque instant, chaque seconde, et je ne cesserai jamais de t‚Äôaimer. ‚ú® Tu es la personne avec qui je veux tout vivre, avec qui je veux b√¢tir une vie pleine de bonheur et d‚Äôamour. Je t‚Äôaime plus que tu ne peux l‚Äôimaginer, et je continuerai √† te montrer chaque jour combien tu comptes pour moi. üíñ"
            },
            angry: {
                title: "Quand tu es en col√®re contre moi üòî",
                text: "Meli, je sais que parfois je fais des erreurs, et si quelque chose que j‚Äôai fait ou dit t‚Äôa mise en col√®re, je suis profond√©ment d√©sol√©. üôè Mon intention n‚Äôa jamais √©t√© de te blesser, mais je comprends que parfois je peux te faire ressentir √ßa. Ce que je veux, c‚Äôest que tu sois heureuse, et je ferai tout pour r√©parer ce qui a √©t√© bris√©. Je t‚Äôaime profond√©ment et je suis pr√™t √† tout pour regagner ta confiance, pour faire en sorte que tu te sentes √©cout√©e et respect√©e. Je suis l√†, toujours, pr√™t √† me battre pour toi et pour notre amour. ‚ù§Ô∏è"
            }
        };

        const initialModal = document.getElementById('initial-modal');
        const initialModalClose = document.getElementById('initial-modal-close');
        const messagesModal = document.getElementById('messages-modal');
        const messagesModalClose = document.getElementById('messages-modal-close');
        const openMessagesBtn = document.getElementById('open-messages-btn');
        const modalBody = document.getElementById('modal-body');
        
        let isAudioStarted = false;

        // --- Audio Setup with Tone.js ---
        const clickSynth = new Tone.Synth({
            oscillator: { type: 'triangle' },
            envelope: { attack: 0.01, decay: 0.2, sustain: 0.1, release: 0.4 }
        }).toDestination();
        clickSynth.volume.value = -12;

        const hoverSynth = new Tone.MembraneSynth({
            pitchDecay: 0.01,
            octaves: 2,
            envelope: { attack: 0.001, decay: 0.1, sustain: 0 }
        }).toDestination();
        hoverSynth.volume.value = -18;

        const startAudioContext = async () => {
            if (isAudioStarted) return;
            try {
                await Tone.start();
                isAudioStarted = true;
            } catch (e) {
                console.error("Impossible de d√©marrer le contexte audio", e);
            }
        };

        const playSound = (synth, note, duration) => {
            if (isAudioStarted) {
                synth.triggerAttackRelease(note, duration);
            }
        };

        const showInitialModal = () => initialModal.classList.add('visible');
        const hideInitialModal = () => {
            playSound(clickSynth, "A4", "8n");
            initialModal.classList.remove('visible');
            startAudioContext(); 
        };
        initialModalClose.addEventListener('click', hideInitialModal);
        
        const showMessagesModal = () => messagesModal.classList.add('visible');
        const hideMessagesModal = () => {
            playSound(clickSynth, "A4", "8n");
            messagesModal.classList.remove('visible');
        };
        messagesModalClose.addEventListener('click', hideMessagesModal);

        const showMessagesList = () => {
            playSound(clickSynth, "C5", "8n");
            modalBody.innerHTML = '';
            const listTitle = document.createElement('h2');
            listTitle.className = 'font-dancing text-glow text-3xl mb-4 text-center';
            listTitle.textContent = 'Pour chaque moment... üíå';
            modalBody.appendChild(listTitle);

            Object.keys(messages).forEach(mood => {
                const button = document.createElement('button');
                button.className = 'message-title-btn';
                button.textContent = messages[mood].title;
                button.onmouseover = () => playSound(hoverSynth, "C2", "32n");
                button.onclick = () => showMessageText(mood);
                modalBody.appendChild(button);
            });
            showMessagesModal();
        };

        const showMessageText = (mood) => {
            playSound(clickSynth, "E5", "8n");
            const message = messages[mood];
            modalBody.innerHTML = `
                <button id="back-to-list-btn" class="message-title-btn mb-4">
                    <i class="fas fa-arrow-left mr-2"></i> Retour √† la liste
                </button>
                <h2 class="font-dancing text-glow text-3xl mb-4 text-center">${message.title}</h2>
                <p class="text-lg leading-relaxed">${message.text}</p>
            `;
            const backBtn = document.getElementById('back-to-list-btn');
            backBtn.onmouseover = () => playSound(hoverSynth, "C2", "32n");
            backBtn.onclick = showMessagesList;
        };

        openMessagesBtn.addEventListener('click', showMessagesList);
        
        window.addEventListener('load', () => {
            setTimeout(showInitialModal, 500);
        });
    </script>
</body>
</html>

